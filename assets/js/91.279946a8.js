(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{484:function(e,t,n){"use strict";n.r(t);var a=n(5),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"cw20-tokens"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cw20-tokens"}},[e._v("#")]),e._v(" CW20 Tokens")]),e._v(" "),n("p",[e._v("According to the "),n("a",{attrs:{href:"https://docs.rs/crate/cw20/0.2.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("official documentation"),n("OutboundLink")],1)]),e._v(" "),n("blockquote",[n("p",[e._v("CW20 is a specification for fungible tokens based on CosmWasm. The name and design is loosely based on Ethereum's ERC20 standard, but many changes have been made. The types in here can be imported by contracts that wish to implement this spec, or by contracts that call to any standard cw20 contract.")])]),e._v(" "),n("h2",{attrs:{id:"checking-cw20-balance"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#checking-cw20-balance"}},[e._v("#")]),e._v(" Checking CW20 balance")]),e._v(" "),n("ul",[n("li",[e._v("Query to "),n("code",[e._v("/wasm/contracts/<tokenContractAddress>/store")]),e._v(" with query_msg "),n("code",[e._v('{"balance":{"address":"<userAddress>"}}')])]),e._v(" "),n("li",[e._v("Response: "),n("code",[e._v('{"height":"2947306","result":{"balance":"24732816921"}}')])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://bombay-lcd.terra.dev/wasm/contracts/terra1800p00qlxh0nmt0r0u9hv7m4lg042fnafng2t6/store?query_msg=%7B%22balance%22:%7B%22address%22:%22terra1dakqt3s8dywea9advxz4duxkuvglz3a34yczw9%22%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[e._v("Example"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"interacting-with-cw20-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#interacting-with-cw20-contract"}},[e._v("#")]),e._v(" Interacting with CW20 contract")]),e._v(" "),n("ul",[n("li",[e._v("CW20 is a cosmwasm contract and "),n("code",[e._v("wasm/MsgExecuteContract")]),e._v(" is used to interact with it")]),e._v(" "),n("li",[e._v("Breakdown of message payload format is as follows (similar to "),n("code",[e._v("bank/MsgSend")]),e._v(" but "),n("code",[e._v("execute_msg")]),e._v(" is added):")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('{\n  "type": "wasm/MsgExecuteContract",\n  "value": {\n    // sender address\n    "sender": "terra1zyrpkll2xpgcdsz42xm3k8qfnddcdu0w7jzx6y",\n\n    // token contract address\n    "contract": "terra1rz5chzn0g07hp5jx63srpkhv8hd7x8pss20w2e",\n\n    // base64-encoded payload of contract execution message (refer to below)\n    "execute_msg": "ewogICJzZW5kIjogewogICAgImFtb3VudCI6ICIxMDAwMDAwMDAwIiwKICAgICJjb250cmFjdCI6IDxyZWNpcGllbnRDb250cmFjdEFkZHJlc3M+LAogICAgIm1zZyI6ICJleUp6YjIxbFgyMWxjM05oWjJVaU9udDlmUT09IiAKICB9Cn0=",\n\n    // used in case you are sending native tokens along with this message\n    "coins": []\n  }\n}\n')])])]),n("h2",{attrs:{id:"sending-cw20-token-to-another-contract-and-execute-message"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sending-cw20-token-to-another-contract-and-execute-message"}},[e._v("#")]),e._v(" Sending CW20 token to another contract, and execute message")]),e._v(" "),n("ul",[n("li",[e._v("Example\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://finder.terra.money/columbus-5/tx/99CFBABE9DBC1059EF40B985D17ED9CCBA11570B28B032D4E57D527FD298F60A",target:"_blank",rel:"noopener noreferrer"}},[e._v("Finder"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://lcd.terra.dev/txs/99CFBABE9DBC1059EF40B985D17ED9CCBA11570B28B032D4E57D527FD298F60A",target:"_blank",rel:"noopener noreferrer"}},[e._v("Raw result"),n("OutboundLink")],1)])])])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('// base64-encode the below message (without the comments), send that as `execute_msg`\n{\n  "send": {\n    // amount of CW20 tokens being transferred\n    "amount": "1000000000",\n\n    // recipient of this transfer\n    "contract": <recipientContractAddress>,\n\n    // execute_msg to be executed in the context of recipient contract\n    "msg": "eyJzb21lX21lc3NhZ2UiOnt9fQ==" \n  }\n}\n')])])]),n("h2",{attrs:{id:"transferring-cw20-token"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#transferring-cw20-token"}},[e._v("#")]),e._v(" Transferring CW20 token")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("transfer")]),e._v(" is different to "),n("code",[e._v("send")]),e._v(", as in it only "),n("strong",[e._v("transfers")]),e._v(" ownership of CW20 balance within the contract, whereas "),n("code",[e._v("send")]),e._v(" is capable of transferring & relays a contract msg to be executed")]),e._v(" "),n("li",[e._v("Example\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://finder.terra.money/columbus-5/tx/F424552E25FDE52FEC229E04AE719A5B91D99E1088DC5F4978B263516A269FB1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Finder"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://lcd.terra.dev/txs/F424552E25FDE52FEC229E04AE719A5B91D99E1088DC5F4978B263516A269FB1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Raw result"),n("OutboundLink")],1)])])]),e._v(" "),n("li",[e._v("Find other messages at "),n("a",{attrs:{href:"https://docs.rs/crate/cw20/0.8.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("cw20 documentation"),n("OutboundLink")],1)])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('{\n  "transfer": {\n    "amount": "1000000",\n    "recipient": "<recipient>"\n  }\n}\n')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);